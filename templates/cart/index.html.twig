{% extends 'base.html.twig' %}

{% block title %}
    {{ "User Cart" }}
    |
    {{ parent() }}
{% endblock %}

{% block body %}

    {% if items | length > 0 %}

        <table class="cart-table">
            <thead>
                <tr>
                    <th>Quantity</th>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Total</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                    <tr>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.product.name }}</td>
                        <td>{{ item.product.price / 100 }} €</td>
                        <td>{{ (item.product.price * item.quantity) / 100 }} €</td>
                        <td class="actions-group">
                            <a href="{{ path('cart_add', {'id': item.product.id}) }}" class="green-btn flex-btn">
                                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" 
                                    viewBox="0 0 122.879 122.879" enable-background="new 0 0 122.879 122.879" xml:space="preserve"><g>
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M104.885,17.995c23.993,23.994,23.993,62.896,0,86.89 c-23.994,23.993-62.896,23.993-86.89,
                                    0c-23.993-23.994-23.993-62.896,0-86.89C41.989-5.998,80.891-5.998,104.885,17.995 L104.885,17.995z M93.607,57.949c1.928,0,3.49,1.563,3.49,
                                    3.49c0,1.928-1.563,3.49-3.49,3.49H64.93v28.678 c0,1.928-1.563,3.49-3.49,3.49c-1.927,0-3.489-1.563-3.489-3.49V64.93H29.272c-1.928,
                                    0-3.491-1.563-3.491-3.49 c0-1.927,1.563-3.49,3.491-3.49H57.95V29.271c0-1.927,1.563-3.49,3.489-3.49c1.928,0,3.49,1.563,3.49,3.49v28.678H93.607
                                    L93.607,57.949z"/></g>
                                </svg>
                            </a>
                            <a href="{{ path('cart_remove', {'id': item.product.id}) }}" class="red-btn flex-btn">
                                <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                    viewBox="0 0 52 52" style="enable-background:new 0 0 52 52;" xml:space="preserve">
                                    <path d="M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M38.5,28h-25c-1.104,0-2-0.896-2-2
                                    s0.896-2,2-2h25c1.104,0,2,0.896,2,2S39.604,28,38.5,28z"/>
                                </svg>
                            </a>
                            <a href="{{ path('cart_delete', {'id': item.product.id}) }}" class="red-btn flex-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                                    viewBox="0 0 24 24">
                                    <path d="M 10 2 L 9 3 L 5 3 C 4.4 3 4 3.4 4 4 C 4 4.6 4.4 5 5 5 L 7 5 L 17 5 L 19 5 C 19.6 5 20 4.6 20 4 C 20 3.4 19.6 3 19 3 L 15 3 L 14 2 L 10
                                    2 z M 5 7 L 5 20 C 5 21.1 5.9 22 7 22 L 17 22 C 18.1 22 19 21.1 19 20 L 19 7 L 5 7 z M 9 9 C 9.6 9 10 9.4 10 10 L 10 19 C 10 19.6 9.6 20 9 20
                                    C 8.4 20 8 19.6 8 19 L 8 10 C 8 9.4 8.4 9 9 9 z M 15 9 C 15.6 9 16 9.4 16 10 L 16 19 C 16 19.6 15.6 20 15 20 C 14.4 20 14 19.6 14 19 L 14 10
                                    C 14 9.4 14.4 9 15 9 z">
                                    </path>
                                </svg>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
                <tr class="table-spacer"></tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3" class="table-total">Total: </td>
                    <td>{{ total / 100 }} €</td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
        
    {% else %}

    <h2>Your cart is empty</h2>
        
    {% endif %}

{% endblock %}
